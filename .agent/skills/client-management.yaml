# ArchFlow ERP - Client Management Skills
# Habilidades para gerenciamento de carteira de clientes
# Version: 1.0
# Last Updated: 2026-01-18

name: client-management
description: |
  Skills para gerenciar clientes, contatos e relacionamento.
  Inclui CRUD, filtros, analytics e operações em lote.

category: core
version: 1.0.0

skills:
  - name: create_client
    description: Criar novo cliente no sistema
    trigger_phrases:
      - "create new client"
      - "add client"
      - "new customer"
      - "novo cliente"
      - "adicionar cliente"
    parameters:
      - name: name
        type: string
        required: true
        description: Nome do cliente
      - name: email
        type: string
        format: email
        required: true
        description: Email principal
      - name: phone
        type: string
        required: false
        description: Teléfono de contato
      - name: legal_type
        type: enum
        values: [PF, PJ]
        required: true
        description: Pessoa Física ou Jurídica
      - name: document
        type: string
        required: true
        description: CPF ou CNPJ
      - name: category
        type: enum
        values: [RESIDENTIAL, COMMERCIAL, INSTITUTIONAL, INDUSTRIAL, DESIGNER, OTHER]
        required: true
        description: Categoria de cliente
      - name: address
        type: object
        required: false
        properties:
          street: string
          number: string
          complement: string
          city: string
          state: string
          zip_code: string
      - name: website
        type: string
        format: url
        required: false
      - name: contact_preference
        type: enum
        values: [EMAIL, PHONE, WHATSAPP]
        default: EMAIL
      - name: tags
        type: array
        items:
          type: string
        required: false
        description: Tags para categorização
    output:
      type: object
      properties:
        id: string
        status: string
        created_at: string
        message: string

  - name: get_client
    description: Obter detalhes completos de um cliente
    trigger_phrases:
      - "show client"
      - "get client info"
      - "client details"
      - "ver cliente"
      - "informações do cliente"
    parameters:
      - name: client_id
        type: string
        required: true
        description: ID do cliente
      - name: include_projects
        type: boolean
        default: true
        description: Incluir projetos do cliente
      - name: include_activities
        type: boolean
        default: false
        description: Incluir atividades recentes
    output:
      type: object
      properties:
        id: string
        name: string
        email: string
        phone: string
        legal_type: string
        document: string
        category: string
        status: string
        rating: number
        total_spent: number
        projects_count: number
        last_interaction: string

  - name: list_clients
    description: Listar clientes com filtros e busca
    trigger_phrases:
      - "list clients"
      - "show all clients"
      - "search clients"
      - "listar clientes"
      - "buscar clientes"
    parameters:
      - name: search
        type: string
        required: false
        description: Busca por nome, email ou documento
      - name: category
        type: string
        required: false
        description: Filtrar por categoria
      - name: status
        type: enum
        values: [ACTIVE, PROSPECT, INACTIVE, BLOCKED]
        required: false
        description: Filtrar por status
      - name: legal_type
        type: enum
        values: [PF, PJ]
        required: false
      - name: rating_min
        type: number
        required: false
        description: Avaliação mínima (0-5)
      - name: spent_min
        type: number
        required: false
        description: Gasto mínimo (R$)
      - name: sort_by
        type: enum
        values: [created_at, name, rating, total_spent, last_interaction]
        default: created_at
      - name: order
        type: enum
        values: [asc, desc]
        default: desc
      - name: page
        type: number
        default: 1
      - name: limit
        type: number
        default: 20
    output:
      type: object
      properties:
        total: number
        page: number
        limit: number
        clients: array

  - name: update_client
    description: Atualizar informações de um cliente
    trigger_phrases:
      - "update client"
      - "edit client"
      - "modify client"
      - "atualizar cliente"
      - "editar cliente"
    parameters:
      - name: client_id
        type: string
        required: true
      - name: name
        type: string
        required: false
      - name: email
        type: string
        required: false
      - name: phone
        type: string
        required: false
      - name: status
        type: enum
        values: [ACTIVE, PROSPECT, INACTIVE, BLOCKED]
        required: false
      - name: category
        type: string
        required: false
      - name: rating
        type: number
        required: false
        description: Avaliação de 0 a 5
      - name: tags
        type: array
        items:
          type: string
        required: false
    output:
      type: object
      properties:
        success: boolean
        message: string
        updated_fields: array

  - name: get_client_projects
    description: Listar todos os projetos de um cliente
    trigger_phrases:
      - "client projects"
      - "projects for client"
      - "show client projects"
      - "projetos do cliente"
    parameters:
      - name: client_id
        type: string
        required: true
      - name: status
        type: string
        required: false
        description: Filtrar por status do projeto
      - name: include_archived
        type: boolean
        default: false
    output:
      type: array
      items:
        type: object
        properties:
          id: string
          name: string
          type: string
          status: string
          budget: number
          progress: number

  - name: get_client_stats
    description: Obter analíticas completas de um cliente
    trigger_phrases:
      - "client stats"
      - "client analytics"
      - "client metrics"
      - "estatísticas do cliente"
    parameters:
      - name: client_id
        type: string
        required: true
      - name: period
        type: enum
        values: [last_30_days, last_90_days, last_year, all_time]
        default: all_time
    output:
      type: object
      properties:
        total_spent: number
        projects_count: number
        active_projects: number
        completed_projects: number
        average_project_value: number
        total_hours_logged: number
        last_project_date: string
        first_interaction_date: string
        interaction_frequency: string

  - name: bulk_import_clients
    description: Importar clientes em lote (CSV)
    trigger_phrases:
      - "import clients"
      - "bulk upload clients"
      - "importar clientes"
    parameters:
      - name: csv_file_url
        type: string
        required: true
        description: URL ou caminho do arquivo CSV
      - name: update_existing
        type: boolean
        default: false
        description: Atualizar clientes existentes
    output:
      type: object
      properties:
        total_imported: number
        successful: number
        failed: number
        errors: array

  - name: export_clients
    description: Exportar clientes para CSV
    trigger_phrases:
      - "export clients"
      - "download clients"
      - "exportar clientes"
    parameters:
      - name: filters
        type: object
        required: false
        description: Aplicar filtros antes de exportar
      - name: format
        type: enum
        values: [csv, xlsx, json]
        default: csv
    output:
      type: object
      properties:
        file_url: string
        filename: string
        total_records: number
        file_size: number
