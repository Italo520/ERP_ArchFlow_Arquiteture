# ArchFlow ERP - Activities & Time Tracking Skills
# Habilidades para rastreamento de atividades e tempo
# Version: 1.0
# Last Updated: 2026-01-18

name: activities-tracking
description: |
  Skills para rastreamento de atividades, time tracking e produtividade.
  Inclui criação de atividades, logs de tempo, relatórios e analytics.

category: core
version: 1.0.0

skills:
  - name: log_activity
    description: Registrar uma nova atividade (reunião, chamada, etc)
    trigger_phrases:
      - "log activity"
      - "record activity"
      - "add activity"
      - "registrar atividade"
      - "nova atividade"
    parameters:
      - name: type
        type: enum
        values: [MEETING, CALL, EMAIL, SITE_VISIT, DESIGN, REVISION, APPROVAL, ADMIN, OTHER]
        required: true
        description: Tipo de atividade
      - name: title
        type: string
        required: true
        description: Título descritivo
      - name: description
        type: string
        required: false
        description: Descrição detalhada
      - name: client_id
        type: string
        required: true
        description: ID do cliente relacionado
      - name: project_id
        type: string
        required: false
        description: ID do projeto (se aplicável)
      - name: task_id
        type: string
        required: false
        description: ID da tarefa (se aplicável)
      - name: duration_minutes
        type: number
        required: true
        description: Duração em minutos
      - name: start_time
        type: string
        format: date-time
        required: false
        description: Data e hora de início
      - name: location
        type: string
        required: false
        description: Local da atividade
      - name: participants
        type: array
        items:
          type: string
        required: false
        description: IDs dos participantes
      - name: attachments
        type: array
        items:
          type: string
        required: false
        description: URLs de anexos
      - name: status
        type: enum
        values: [SCHEDULED, COMPLETED, CANCELLED]
        default: COMPLETED
    output:
      type: object
      properties:
        id: string
        created_at: string
        message: string

  - name: start_time_tracking
    description: Iniciar rastreamento de tempo (timer)
    trigger_phrases:
      - "start timer"
      - "start tracking"
      - "begin time tracking"
      - "iniciar timer"
      - "começar a rastrear tempo"
    parameters:
      - name: activity_type
        type: enum
        values: [DESIGN, REVIEW, MEETING, ADMIN, DELIVERY, OTHER]
        required: true
        description: Tipo de atividade que será rastreada
      - name: description
        type: string
        required: true
        description: O que você está fazendo
      - name: project_id
        type: string
        required: false
        description: Projeto relacionado
      - name: task_id
        type: string
        required: false
        description: Tarefa relacionada
      - name: billable
        type: boolean
        default: true
        description: É uma atividade cobrável?
    output:
      type: object
      properties:
        timer_id: string
        started_at: string
        status: string

  - name: stop_time_tracking
    description: Parar rastreamento de tempo e registrar
    trigger_phrases:
      - "stop timer"
      - "stop tracking"
      - "end time tracking"
      - "parar timer"
      - "parar rastreamento"
    parameters:
      - name: timer_id
        type: string
        required: true
        description: ID do timer a parar
      - name: notes
        type: string
        required: false
        description: Notas adicionais
    output:
      type: object
      properties:
        duration_hours: number
        duration_minutes: number
        time_log_id: string
        recorded_at: string

  - name: log_time_manual
    description: Registrar tempo manualmente (sem timer)
    trigger_phrases:
      - "log time"
      - "add time entry"
      - "record hours"
      - "registrar horas"
      - "adicionar tempo"
    parameters:
      - name: hours
        type: number
        required: true
        description: Horas trabalhadas
      - name: minutes
        type: number
        required: false
        default: 0
      - name: category
        type: enum
        values: [DESIGN, REVIEW, MEETING, ADMIN, DELIVERY, OTHER]
        required: true
      - name: description
        type: string
        required: true
      - name: date
        type: string
        format: date
        required: true
        description: Data do trabalho
      - name: project_id
        type: string
        required: false
      - name: task_id
        type: string
        required: false
      - name: client_id
        type: string
        required: false
      - name: billable
        type: boolean
        default: true
      - name: bill_rate
        type: number
        required: false
        description: Taxa horária (R$/hora)
    output:
      type: object
      properties:
        id: string
        total_hours: number
        recorded_at: string

  - name: list_activities
    description: Listar atividades com filtros
    trigger_phrases:
      - "list activities"
      - "show activities"
      - "my activities"
      - "listar atividades"
      - "minhas atividades"
    parameters:
      - name: client_id
        type: string
        required: false
      - name: project_id
        type: string
        required: false
      - name: type
        type: string
        required: false
      - name: status
        type: enum
        values: [SCHEDULED, COMPLETED, CANCELLED]
        required: false
      - name: date_from
        type: string
        format: date
        required: false
      - name: date_to
        type: string
        format: date
        required: false
      - name: sort_by
        type: enum
        values: [date, duration, type, status]
        default: date
      - name: page
        type: number
        default: 1
      - name: limit
        type: number
        default: 20
    output:
      type: object
      properties:
        total: number
        activities: array

  - name: get_time_report
    description: Gerar relatório de tempo rastreado
    trigger_phrases:
      - "time report"
      - "hours report"
      - "time summary"
      - "relatório de horas"
      - "resumo de tempo"
    parameters:
      - name: period
        type: enum
        values: [today, week, month, quarter, year, custom]
        required: true
      - name: date_from
        type: string
        format: date
        required: false
      - name: date_to
        type: string
        format: date
        required: false
      - name: project_id
        type: string
        required: false
      - name: group_by
        type: enum
        values: [date, project, task, category, user]
        default: date
      - name: include_billable
        type: boolean
        default: true
      - name: include_non_billable
        type: boolean
        default: true
    output:
      type: object
      properties:
        total_hours: number
        total_minutes: number
        billable_hours: number
        non_billable_hours: number
        revenue_potential: number
        breakdown: array

  - name: get_productivity_stats
    description: Obter estatísticas de produtividade
    trigger_phrases:
      - "productivity stats"
      - "productivity metrics"
      - "my productivity"
      - "estatísticas de produtividade"
    parameters:
      - name: period
        type: enum
        values: [week, month, quarter, year]
        default: month
      - name: user_id
        type: string
        required: false
        description: ID do usuário (default: usuario atual)
    output:
      type: object
      properties:
        total_hours_logged: number
        average_hours_per_day: number
        billable_percentage: number
        most_productive_day: string
        most_productive_hour: string
        top_activities: array
        top_projects: array

  - name: update_activity
    description: Atualizar informações de uma atividade
    trigger_phrases:
      - "update activity"
      - "edit activity"
      - "modify activity"
      - "atualizar atividade"
    parameters:
      - name: activity_id
        type: string
        required: true
      - name: title
        type: string
        required: false
      - name: description
        type: string
        required: false
      - name: status
        type: enum
        values: [SCHEDULED, COMPLETED, CANCELLED]
        required: false
      - name: duration_minutes
        type: number
        required: false
    output:
      type: object
      properties:
        success: boolean
        message: string

  - name: delete_activity
    description: Deletar uma atividade
    trigger_phrases:
      - "delete activity"
      - "remove activity"
      - "deletar atividade"
    parameters:
      - name: activity_id
        type: string
        required: true
      - name: reason
        type: string
        required: false
    output:
      type: object
      properties:
        success: boolean
        deleted_at: string
