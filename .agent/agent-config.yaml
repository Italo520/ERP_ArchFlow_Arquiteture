# ArchFlow ERP - Antigravity Agent Configuration
# Configuração principal do agente de IA para ArchFlow
# Version: 1.0
# Last Updated: 2026-01-18

name: ArchFlow Agent
description: |
  Agente de IA especializado em gerenciamento de ERP para escritórios de arquitetura.
  Oferece suporte completo para projetos, clientes, atividades e relatórios.

version: 1.0.0
status: active

# Identidade do Agente
agent:
  id: archflow-erp-agent
  display_name: ArchFlow Assistant
  personality: professional
  language: pt-BR
  timezone: America/Sao_Paulo

# Capacidades
capabilities:
  - client_management
  - project_management
  - activities_tracking
  - time_tracking
  - reporting
  - analytics

# Skills disponíveis
skills_enabled:
  - project-management
  - client-management
  - activities-tracking

# Integrações
integrations:
  - type: api
    name: ArchFlow API
    base_url: "${ARCHFLOW_API_BASE_URL}"
    authentication: bearer_token
    timeout: 30
  - type: database
    name: PostgreSQL
    connection: "${DATABASE_URL}"
    timeout: 10
  - type: storage
    name: Supabase Storage
    bucket: "${STORAGE_BUCKET}"

# Permissões
permissions:
  - read:clients
  - write:clients
  - read:projects
  - write:projects
  - read:activities
  - write:activities
  - read:time_logs
  - write:time_logs
  - read:reports
  - read:analytics

# Limites e Constraints
constraints:
  max_concurrent_requests: 10
  max_file_size_mb: 50
  request_timeout_seconds: 30
  rate_limit:
    requests_per_minute: 60
    requests_per_hour: 1000

# Comportamentos
behaviors:
  # Confirmação antes de ações destrutivas
  confirm_delete: true
  confirm_bulk_operations: true
  
  # Validações
  validate_dates: true
  validate_budgets: true
  validate_emails: true
  
  # Logging
  log_all_actions: true
  log_level: info
  
  # Respostas
  detailed_responses: true
  include_examples: true
  suggest_related_actions: true

# Variáveis de Ambiente Obrigatórias
required_env_vars:
  - ARCHFLOW_API_BASE_URL
  - DATABASE_URL
  - STORAGE_BUCKET
  - AGENT_API_KEY

# Configurações de Cache
cache:
  enabled: true
  ttl_seconds: 300
  strategies:
    - type: memory
      size_mb: 100
    - type: redis
      url: "${REDIS_URL}"

# Monítor de Saúde
health_check:
  enabled: true
  interval_seconds: 60
  endpoints:
    - type: api
      url: "${ARCHFLOW_API_BASE_URL}/health"
    - type: database
      query: "SELECT 1"

# Log e Auditoria
audit:
  enabled: true
  log_file: logs/agent-audit.log
  retention_days: 90
  events_to_log:
    - action_executed
    - action_failed
    - permission_denied
    - rate_limit_exceeded

# Notificações
notifications:
  enabled: true
  channels:
    - type: email
      recipient: "${ADMIN_EMAIL}"
      events: [critical_error, rate_limit_exceeded]
    - type: slack
      webhook_url: "${SLACK_WEBHOOK_URL}"
      events: [action_completed, critical_error]

# Tuning de Performance
performance:
  enable_query_optimization: true
  enable_result_caching: true
  batch_size: 100
  parallel_requests: 5

# Modo Debug
debug:
  enabled: false
  verbose_logging: false
  include_stack_traces: false
